{% extends 'recipes/base.html' %}
{% block content %}

<div class="receipt-container">
  <div class="receipt-header">
    Recipe Deletion Receipt
  </div>

  <div class="receipt-body">
    <p>Are you sure you want to delete:</p>
    <p><strong>{{ recipe.title }}</strong></p>
  </div>

  <div class="receipt-footer">
    <p>Date: {{ now|date:"d M Y H:i" }}</p>
    <p>Action: Delete Confirmation</p>

    <form method="post" id="delete-form">
      {% csrf_token %}
      <button type="submit" class="btn-delete">Yes, delete</button>
      <a href="{% url 'recipe_detail' recipe.id %}" class="btn-cancel">Cancel</a>
    </form>

    <p id="thank-you" style="display:none; margin-top:10px;">
      Thank you for using Fry Me to the Moon üç¥
    </p>
  </div>
</div>

<script>
  // Simple JS to swap form with thank-you message
  document.getElementById('delete-form').addEventListener('submit', function(e) {
    e.preventDefault(); // prevent immediate navigation
    this.style.display = 'none';
    document.getElementById('thank-you').style.display = 'block';
    // submit after a short delay so deletion still happens
    setTimeout(() => this.submit(), 800);
  });
</script>

{% endblock %}
